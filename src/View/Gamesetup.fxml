<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="700.0" prefWidth="900.0"
            stylesheets="@Gamesetup.css"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.GameSetupController">

    <children>

        <!-- Main layout -->
        <BorderPane AnchorPane.bottomAnchor="0.0"
                    AnchorPane.leftAnchor="0.0"
                    AnchorPane.rightAnchor="0.0"
                    AnchorPane.topAnchor="0.0">

            <!-- TOP BAR -->
            <top>
                <HBox alignment="CENTER_LEFT" spacing="10.0" BorderPane.alignment="CENTER">
                    <padding>
                        <Insets bottom="10.0" left="40.0" right="40.0" top="20.0" />
                    </padding>
                    <children>

                        <Label fx:id="backToMenuLabel" text="← Back to Menu">
                            <font><Font size="16.0"/></font>
                        </Label>

                        <Region HBox.hgrow="ALWAYS" />

                        <Label text="Game Setup">
                            <font><Font size="28.0"/></font>
                        </Label>

                    </children>
                </HBox>
            </top>

            <!-- CENTER main content -->
            <center>
                <AnchorPane BorderPane.alignment="CENTER">
                    <padding>
                        <Insets bottom="40.0" left="40.0" right="40.0" top="20.0" />
                    </padding>

                    <children>

                        <AnchorPane fx:id="cardPane" prefHeight="440.0" prefWidth="780.0"
                                    AnchorPane.bottomAnchor="0.0"
                                    AnchorPane.leftAnchor="0.0"
                                    AnchorPane.rightAnchor="0.0"
                                    AnchorPane.topAnchor="0.0">

                            <children>
                                <VBox alignment="TOP_LEFT" spacing="20.0"
                                      AnchorPane.bottomAnchor="20.0"
                                      AnchorPane.leftAnchor="30.0"
                                      AnchorPane.rightAnchor="30.0"
                                      AnchorPane.topAnchor="20.0">

                                    <children>

                                        <!-- Header -->
                                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                                            <children>
                                                <ImageView fitHeight="46.0" fitWidth="45.0" preserveRatio="true">
                                                    <image>
                                                        <Image url="@iconss/two-businessmen-salutation.png" />
                                                    </image>
                                                </ImageView>

                                                <Label fx:id="modeTitleLabel" text="Two-Player Cooperative Mode">
                                                    <font><Font size="22.0"/></font>
                                                </Label>
                                            </children>
                                        </HBox>

                                        <!-- Player labels -->
                                        <HBox alignment="CENTER_LEFT" spacing="40.0">
                                            <children>

                                                <Label text="Player 1 Name">
                                                    <font><Font size="14.0"/></font>
                                                </Label>

                                                <Region prefWidth="300.0" HBox.hgrow="ALWAYS"/>

                                                <Label text="Player 2 Name">
                                                    <font><Font size="14.0"/></font>
                                                    <HBox.margin><Insets right="189.0" /></HBox.margin>
                                                </Label>

                                            </children>
                                        </HBox>

                                        <!-- Player text fields -->
                                        <HBox alignment="CENTER_LEFT" spacing="40.0">
                                            <children>

                                                <TextField fx:id="player1Field"
                                                           prefWidth="280.0"
                                                           promptText="Enter name" />

                                                <Region HBox.hgrow="ALWAYS" />

                                                <TextField fx:id="player2Field"
                                                           prefWidth="280.0"
                                                           promptText="Enter name" />

                                            </children>
                                        </HBox>

                                        <!-- Difficulty label -->
                                        <Label text="Select Difficulty">
                                            <font><Font size="14.0"/></font>
                                        </Label>

                                        <!-- Difficulty buttons (UPDATED) -->
                                        <HBox alignment="CENTER_LEFT" spacing="20.0">
                                            <children>

                                                <Button fx:id="easyButton"
                                                        onAction="#selectEasy"
                                                        maxWidth="1.7976931348623157E308"
                                                        prefHeight="25.0" prefWidth="241.0"
                                                        text="Easy&#10;9×9" />

                                                <Button fx:id="mediumButton"
                                                        onAction="#selectMedium"
                                                        maxWidth="1.7976931348623157E308"
                                                        prefHeight="25.0" prefWidth="241.0"
                                                        text="Medium&#10;13×13" />

                                                <Button fx:id="hardButton"
                                                        onAction="#selectHard"
                                                        maxWidth="1.7976931348623157E308"
                                                        prefHeight="25.0" prefWidth="237.0"
                                                        text="Hard&#10;16×16" />

                                            </children>
                                        </HBox>

                                        <!-- Rules Box -->
                                        <VBox fx:id="rulesBox" alignment="TOP_LEFT" spacing="5.0">
                                            <padding><Insets top="16.0" right="16.0" bottom="16.0" left="16.0"/></padding>
                                            <children>

                                                <Label fx:id="rulesTitleLabel" text="Game Rules – Easy:">
                                                    <font><Font size="16.0"/></font>
                                                </Label>

                                                <Label fx:id="rulesBodyLabel"
                                                       wrapText="true"
                                                       prefHeight="205.0"
                                                       text="• Each player has their own board to clear
• You share 10 lives – hitting a mine costs 1 life
• Both players must clear their boards to win
• Work together and strategize!" />

                                            </children>
                                        </VBox>

                                        <!-- Start Game -->
                                        <HBox alignment="CENTER">
                                            <children>
                                                <Button fx:id="startGameButton"
                                                        prefHeight="48.0" prefWidth="520.0"
                                                        text="Start Game" />
                                            </children>
                                        </HBox>

                                    </children>
                                </VBox>
                            </children>

                        </AnchorPane>

                    </children>

                </AnchorPane>
            </center>

        </BorderPane>

        <!-- HELP BUTTON -->
        <Button fx:id="helpButton"
                text="Help And Full Rules"
                AnchorPane.bottomAnchor="16.0"
                AnchorPane.rightAnchor="16.0" />

    </children>

</AnchorPane>
