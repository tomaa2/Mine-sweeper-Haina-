<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.GameHistoryController"
            prefWidth="1200.0" prefHeight="700.0"
            style="-fx-background-color: linear-gradient(to bottom, #101522, #060811);">

    <children>
        <BorderPane AnchorPane.topAnchor="0.0"
                    AnchorPane.bottomAnchor="0.0"
                    AnchorPane.leftAnchor="0.0"
                    AnchorPane.rightAnchor="0.0">

            <!-- TOP BAR: back + title + clear -->
            <top>
                <HBox alignment="CENTER_LEFT"
                      spacing="10.0"
                      BorderPane.alignment="CENTER"
                      style="-fx-background-color: transparent;">
                    <padding>
                        <Insets top="20.0" left="40.0" right="40.0" bottom="10.0"/>
                    </padding>
                    <children>
                        <!-- Back to menu -->
                        <Label fx:id="backLabel" text="â† Back to Menu"
                               style="-fx-text-fill: #E0E4FF; -fx-cursor: hand;">
                            <font>
                                <Font size="16.0"/>
                            </font>
                        </Label>

                        <!-- Spacer -->
                        <Region HBox.hgrow="ALWAYS"/>

                        <!-- Page title -->
                        <Label text="Game History"
                               style="-fx-text-fill: #FFFFFF;">
                            <font>
                                <Font size="28.0"/>
                            </font>
                        </Label>

                        <!-- Spacer -->
                        <Region HBox.hgrow="ALWAYS"/>

                        <!-- Clear history button -->
                        <Button fx:id="clearHistoryButton"
                                text="Clear History"
                                mnemonicParsing="false"
                                style="-fx-background-color: #ff4b5c;
                                       -fx-text-fill: white;
                                       -fx-background-radius: 20;
                                       -fx-padding: 6 16 6 16;">
                        </Button>
                    </children>
                </HBox>
            </top>

            <!-- CENTER: stats + recent games -->
            <center>
                <VBox spacing="20.0" BorderPane.alignment="CENTER">
                    <padding>
                        <Insets top="10.0" left="40.0" right="40.0" bottom="30.0"/>
                    </padding>

                    <children>

                        <!-- SUMMARY CARDS ROW -->
                        <HBox spacing="20.0" alignment="CENTER_LEFT">
                            <children>

                                <!-- Card 1: Total Games -->
                                <VBox spacing="10.0" prefWidth="180.0" prefHeight="100.0"
                                      style="-fx-background-color: #1b2235;
                                             -fx-background-radius: 16;
                                             -fx-padding: 16;">
                                    <children>
                                        <Label fx:id="totalGamesValueLabel" text="0"
                                               style="-fx-text-fill: #FFFFFF;">
                                            <font>
                                                <Font size="24.0"/>
                                            </font>
                                        </Label>
                                        <Label text="Total Games"
                                               style="-fx-text-fill: #9ba3c7;">
                                            <font>
                                                <Font size="14.0"/>
                                            </font>
                                        </Label>
                                    </children>
                                </VBox>

                                <!-- Card 2: Victories -->
                                <VBox spacing="10.0" prefWidth="180.0" prefHeight="100.0"
                                      style="-fx-background-color: #1b2235;
                                             -fx-background-radius: 16;
                                             -fx-padding: 16;">
                                    <children>
                                        <Label fx:id="victoriesValueLabel" text="0"
                                               style="-fx-text-fill: #FFFFFF;">
                                            <font>
                                                <Font size="24.0"/>
                                            </font>
                                        </Label>
                                        <Label text="Victories"
                                               style="-fx-text-fill: #9ba3c7;">
                                            <font>
                                                <Font size="14.0"/>
                                            </font>
                                        </Label>
                                    </children>
                                </VBox>

                                <!-- Card 3: Win Rate -->
                                <VBox spacing="10.0" prefWidth="180.0" prefHeight="100.0"
                                      style="-fx-background-color: #1b2235;
                                             -fx-background-radius: 16;
                                             -fx-padding: 16;">
                                    <children>
                                        <Label fx:id="winRateValueLabel" text="0.0%"
                                               style="-fx-text-fill: #FFFFFF;">
                                            <font>
                                                <Font size="24.0"/>
                                            </font>
                                        </Label>
                                        <Label text="Win Rate"
                                               style="-fx-text-fill: #9ba3c7;">
                                            <font>
                                                <Font size="14.0"/>
                                            </font>
                                        </Label>
                                    </children>
                                </VBox>

                                <!-- Card 4: Best Time -->
                                <VBox spacing="10.0" prefWidth="180.0" prefHeight="100.0"
                                      style="-fx-background-color: #1b2235;
                                             -fx-background-radius: 16;
                                             -fx-padding: 16;">
                                    <children>
                                        <Label fx:id="bestTimeValueLabel" text="-"
                                               style="-fx-text-fill: #FFFFFF;">
                                            <font>
                                                <Font size="24.0"/>
                                            </font>
                                        </Label>
                                        <Label text="Best Time"
                                               style="-fx-text-fill: #9ba3c7;">
                                            <font>
                                                <Font size="14.0"/>
                                            </font>
                                        </Label>
                                    </children>
                                </VBox>

                            </children>
                        </HBox>

                        <!-- RECENT GAMES TITLE -->
                        <Label text="Recent Games"
                               style="-fx-text-fill: #FFFFFF;">
                            <font>
                                <Font size="18.0"/>
                            </font>
                        </Label>

                        <!-- RECENT GAMES LIST -->
                        <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                                    style="-fx-background-color: transparent;">
                            <content>
                                <!-- Container for all game entries (filled dynamically) -->
                                <VBox fx:id="gamesListContainer"
                                      spacing="10.0">
                                    <padding>
                                        <Insets top="10.0" left="0.0" right="0.0" bottom="10.0"/>
                                    </padding>
                                </VBox>
                            </content>
                        </ScrollPane>

                    </children>
                </VBox>
            </center>

        </BorderPane>
    </children>
</AnchorPane>
