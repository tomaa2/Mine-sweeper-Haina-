<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<!--
  Question Management Screen (Question Bank)
  - Modern card-style layout with inline styles (no external CSS)
  - Controller: Controller.QuestionController
-->
<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="Controller.QuestionController"
           style="-fx-background-color: linear-gradient(to bottom right, #1f2933, #111827);
                  -fx-padding: 24;">

    <!-- Main white card -->
    <VBox spacing="18"
          maxWidth="1000"
          style="-fx-background-color: rgba(255,255,255,0.97);
                 -fx-padding: 20 24 24 24;
                 -fx-background-radius: 18;
                 -fx-spacing: 18;
                 -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.22), 18, 0.2, 0, 8);">

        <!-- ===== Top Bar: Back + Title + Add ===== -->
        <HBox spacing="12" alignment="CENTER_LEFT">
            <Button fx:id="backToMenuButton"
                    text="â† Back to Menu"
                    onAction="#handleBackToMenu"
                    style="-fx-background-color: transparent;
                           -fx-border-color: #d1d5db;
                           -fx-border-radius: 8;
                           -fx-padding: 5 12;
                           -fx-text-fill: #374151;
                           -fx-font-size: 12px;"/>

            <Label text="Question Bank"
                   style="-fx-font-size: 24px;
                          -fx-font-weight: bold;
                          -fx-text-fill: #111827;"/>

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS"/>

            <Button fx:id="addQuestionButton"
                    text="+ Add Question"
                    onAction="#handleAddQuestion"
                    style="-fx-background-color: linear-gradient(to right, #2563eb, #3b82f6);
                           -fx-text-fill: white;
                           -fx-font-weight: bold;
                           -fx-padding: 6 16;
                           -fx-background-radius: 9;
                           -fx-font-size: 13px;"/>
        </HBox>

        <!-- ===== Counters ===== -->
        <HBox spacing="10">
            <HBox spacing="10" alignment="CENTER_LEFT">

                <VBox spacing="4"
                      style="-fx-background-color: #f9fafb;
                             -fx-background-radius: 10;
                             -fx-border-color: #e5e7eb;
                             -fx-border-radius: 10;
                             -fx-padding: 8 12;">
                    <Label text="Total Questions"
                           style="-fx-font-size: 11px; -fx-text-fill: #6b7280;"/>
                    <Label fx:id="totalQuestionsValueLabel"
                           text="0"
                           style="-fx-font-size: 18px;
                                  -fx-font-weight: bold;
                                  -fx-text-fill: #111827;"/>
                </VBox>

                <VBox spacing="4"
                      style="-fx-background-color: #f9fafb;
                             -fx-background-radius: 10;
                             -fx-border-color: #e5e7eb;
                             -fx-border-radius: 10;
                             -fx-padding: 8 12;">
                    <Label text="Easy"
                           style="-fx-font-size: 11px; -fx-text-fill: #6b7280;"/>
                    <Label fx:id="easyQuestionsValueLabel"
                           text="0"
                           style="-fx-font-size: 16px;
                                  -fx-font-weight: bold;
                                  -fx-text-fill: #16a34a;"/>
                </VBox>

                <VBox spacing="4"
                      style="-fx-background-color: #f9fafb;
                             -fx-background-radius: 10;
                             -fx-border-color: #e5e7eb;
                             -fx-border-radius: 10;
                             -fx-padding: 8 12;">
                    <Label text="Medium"
                           style="-fx-font-size: 11px; -fx-text-fill: #6b7280;"/>
                    <Label fx:id="mediumQuestionsValueLabel"
                           text="0"
                           style="-fx-font-size: 16px;
                                  -fx-font-weight: bold;
                                  -fx-text-fill: #2563eb;"/>
                </VBox>

                <VBox spacing="4"
                      style="-fx-background-color: #f9fafb;
                             -fx-background-radius: 10;
                             -fx-border-color: #e5e7eb;
                             -fx-border-radius: 10;
                             -fx-padding: 8 12;">
                    <Label text="Hard"
                           style="-fx-font-size: 11px; -fx-text-fill: #6b7280;"/>
                    <Label fx:id="hardQuestionsValueLabel"
                           text="0"
                           style="-fx-font-size: 16px;
                                  -fx-font-weight: bold;
                                  -fx-text-fill: #ea580c;"/>
                </VBox>

                <VBox spacing="4"
                      style="-fx-background-color: #f9fafb;
                             -fx-background-radius: 10;
                             -fx-border-color: #e5e7eb;
                             -fx-border-radius: 10;
                             -fx-padding: 8 12;">
                    <Label text="Expert"
                           style="-fx-font-size: 11px; -fx-text-fill: #6b7280;"/>
                    <Label fx:id="expertQuestionsValueLabel"
                           text="0"
                           style="-fx-font-size: 16px;
                                  -fx-font-weight: bold;
                                  -fx-text-fill: #7c3aed;"/>
                </VBox>

            </HBox>
        </HBox>

        <!-- ===== Filters ===== -->
        <VBox spacing="6">
            <Label text="Filters"
                   style="-fx-font-size: 13px;
                          -fx-font-weight: bold;
                          -fx-text-fill: #4b5563;"/>

            <HBox spacing="10">
                <TextField fx:id="searchField"
                           promptText="Search by question text..."
                           HBox.hgrow="ALWAYS"
                           style="-fx-background-color: #f9fafb;
                                  -fx-background-radius: 8;
                                  -fx-padding: 6 10;
                                  -fx-border-color: #e5e7eb;
                                  -fx-border-radius: 8;
                                  -fx-font-size: 12px;"/>

                <ComboBox fx:id="categoryFilterCombo"
                          promptText="Category"
                          prefWidth="160"
                          style="-fx-background-radius: 8;
                                 -fx-border-radius: 8;
                                 -fx-border-color: #e5e7eb;
                                 -fx-padding: 2 6;"/>
                                 
                <ComboBox fx:id="difficultyFilterCombo"
                          promptText="Difficulty"
                          prefWidth="180"
                          style="-fx-background-radius: 8;
                                 -fx-border-radius: 8;
                                 -fx-border-color: #e5e7eb;
                                 -fx-padding: 2 6;"/>


                <Button text="Clear"
                        onAction="#handleClearFilters"
                        style="-fx-background-color: transparent;
                               -fx-border-color: #d1d5db;
                               -fx-border-radius: 8;
                               -fx-padding: 5 12;
                               -fx-text-fill: #374151;
                               -fx-font-size: 12px;"/>
            </HBox>
        </VBox>

        <!-- ===== Questions Table ===== -->
        <TableView fx:id="questionsTable"
                   prefHeight="420"
                   VBox.vgrow="ALWAYS"
                   style="-fx-background-color: #f9fafb;
                          -fx-border-color: #e5e7eb;
                          -fx-border-radius: 10;
                          -fx-background-radius: 10;">
            <columns>
                <TableColumn fx:id="difficultyColumn"
                             text="Difficulty" prefWidth="100"/>

                <TableColumn fx:id="questionTextColumn"
                             text="Question" prefWidth="420"/>

                <TableColumn fx:id="correctAnswerColumn"
                             text="Correct Answer" prefWidth="160"/>

                <TableColumn fx:id="actionsColumn"
                             text="Actions" prefWidth="120"/>
            </columns>
        </TableView>

    </VBox>

</StackPane>
